<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Swordbattle.io -->
  <script>
    console.log("%cSwordbattle.io %cV2\n%cA project by %cGautam\n\n%cgithub.com/codergautam", "color: orange; font-size: 30px;", "color: red; font-size: 30px;", "color: green; font-size: 20px;", "color: cyan; font-size: 20px", "color: grey; font-size: 10px");
  </script>



  <!-- Phaser -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/phaser/3.60.0/phaser.min.js"
    integrity="sha512-YQL0GVx/Too3vZjBl9plePRIYsRnd1s8N6QOvXPdZ+JMH2mtRTLQXGUDGjNW6zr1HUgcOIury67IvWe91oeEwQ=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>

  <!-- Google tag (gtag.js) -->
  <link rel="stylesheet" href="https://sdk.playlight.dev/playlight-sdk.css">
  <script type="module">
    try {
      const module = await import("https://sdk.playlight.dev/playlight-sdk.es.js");
      const playlightSDK = module.default;
      await playlightSDK.init({
        button: {
        position: 'bottom-right',
        visible: false
      },
      exitIntent: {
        enabled: false
      }
      });
      window.showPlaylight = async (visible = true) => {
        await playlightSDK.setDiscovery(visible)
      };
    } catch (error) {
      console.error("Error loading the Playlight SDK:", error);
    }
  </script>

  <script async src="https://www.googletagmanager.com/gtag/js?id=G-35EKK5X5R4"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'G-35EKK5X5R4');
  </script>

  <!-- Ads -->

  <script async
  data-ad-frequency-hint="30s"
  src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3340825671684972"
  crossorigin="anonymous">
</script>
<script>
 window.adsbygoogle = window.adsbygoogle || [];
 var adBreak = adConfig = function(o) {adsbygoogle.push(o);}
 adConfig({preloadAdBreaks: 'on'});
 window.adBreak =adBreak;
</script>

  <script>
    const vidAdDelay = {
      adinplay: 1000 * 60 * 5, // 5 minutes
      gamemonetize: 1000 * 60 * 2, // 2 minutes
      gamepix: 0 // gamepix has its own logic it seems
    };

    function checkAdProvider() {
      let adProvider = '<%= htmlWebpackPlugin.options.adProvider %>' || "adinplay";
      // get query string in url check if other ad provider is set
      const validAdProviders = ["adinplay", "gamemonetize", "gamepix"];
      const urlParams = new URLSearchParams(window.location.search);
      const adProviderParam = urlParams.get("adprovider");
      if (adProviderParam && validAdProviders.includes(adProviderParam)) {
        adProvider = adProviderParam;
      }
      return adProvider;
    }

    window.adProvider = checkAdProvider();
    console.log("Ad provider:", window.adProvider)

    window.vidAdDelay = vidAdDelay[window.adProvider];
    window.lastVidAdTime = 0;

    try {
      if (window.localStorage.getItem("lastVidAdTime") && window.adProvider !== "gamemonetize") window.lastVidAdTime = parseInt(window.localStorage.getItem("lastVidAdTime"));
      if ((window.adProvider === "adinplay" || window.adProvider === "gamepix") && !window.localStorage.getItem("lastVidAdTime")) {
        console.log("New player! Resetting lastVidAdTime");
        window.lastVidAdTime = Date.now();
      }
    } catch (e) { };

    if (window.adProvider === "gamemonetize") {
      window.SDK_OPTIONS = {
        gameId: "m2yzvbmyf75dl11i5lrtzlykjkzrgb85",
        onEvent: function (a) {
          // dispatch event to game process
          const windowEvent = new CustomEvent("gamemonetize_event_" + a.name, { detail: a });
          console.log("gamemonetize_event_" + a.name, a);
          window.dispatchEvent(windowEvent);
        }
      };
      // load sdk
      (function (a, b, c) {
        var d = a.getElementsByTagName(b)[0];
        a.getElementById(c) || (a = a.createElement(b), a.id = c, a.src = "https://api.gamemonetize.com/sdk.js", d.parentNode.insertBefore(a, d))
      })(document, "script", "gamemonetize-sdk");
    } else if(window.adProvider === "adinplay") {
      // Adinplay settings
      var aiptag = aiptag || {};
      aiptag.cmd = aiptag.cmd || [];
      aiptag.cmd.display = aiptag.cmd.display || [];
      aiptag.cmd.player = aiptag.cmd.player || [];

      //CMP tool settings
      aiptag.cmp = {
        show: true,
        position: "centered",  //centered or bottom
        button: true,
        buttonText: "Privacy settings",
        buttonPosition: "bottom-right" //bottom-left, bottom-right, top-left, top-right
      }
    }
  </script>

  <% if (htmlWebpackPlugin.options.adProvider==="adinplay" ) { %>
    <script src="//api.adinplay.com/libs/aiptag/pub/SWT/swordbattle.io/tag.min.js"></script>
    <% } %>
    <% if (htmlWebpackPlugin.options.adProvider==="gamepix" ) { %>
      <script src="https://integration.gamepix.com/sdk/v3/gamepix.sdk.js"></script>
      <% } %>

    <!-- End of Ads -->

      <meta charset="utf-8" />
      <link rel="icon" href="%PUBLIC_URL%/favicon.ico" />
      <meta name="viewport" content="width=device-width, initial-scale=1" />
      <meta name="theme-color" content="#000000" />
      <title>Swordbattle.io</title>
      <meta name="description"
        content="Swordbattle.io is an online sword fighting io game! Fight with friends and enemies in this multiplayer battle arena! Collect coins to be huge, rule the land and upgrade your character!" />
      <meta name="keywords" content="IOGAME, swordbattle, codergautam, swordiogame, swordio" />
      <meta property="og:image" content="/assets/game/player/sword.png" />
      <meta name="author" content="CoderGautam" />
      <meta name="viewport" id="viewport"
        content="width=device-width,minimum-scale=1.0,maximum-scale=1.0,initial-scale=1.0, user-scalable=0" />
      <title>Swordbattle.io</title>

</head>

<body>
  <noscript>You need to enable JavaScript to run this app.</noscript>
  <div id="root"></div>
  <div id="preroll"></div>
</body>

</html>
